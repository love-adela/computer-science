# 마이크로프로세서

## 1주 1차: 마이크로프로세서

* 마이크로프로세서의 구조와 원리에 대해 설명할 수 있다.
* 마이크로프로세서 칩의 종류, 동작 순서에 대해 설명할 수 있다.

마이크로프로세서: Micro(아주 작은) + Processor(처리기)

CPU(Control Processing Unit)
MPU(Micro Processing Unit)

활용: IC 집적 기술, 시스템 프로그래밍 기술을 단일 칩에 집적화

### 발전 역사

1. 최초의 마이크로프로세서

1969년도 Intel 4004 : 4비트 마이크로프로세서
1980년에 개발 : Intel 8051 시리즈, 범용 마이크로프로세서, 플레시메모리로 개발, 주변장치로 활용

2. 마이크로프로세서의 종류

* Microchip (PIC) 시리즈
RISC 방식과 하버트 구조를 가진다.
고성능 8bit, 마이크로컨트를러 (마이크로프로세서 + 제어)
ISP 기능: 사용자가 작성한 프로그램을 MCU 내의 플래시 ROM에 다운로드가 가능하다.
초저가, 산업용

* Atmel (AVR) 시리즈
고성능 8bit 컨트롤러
RISC 방식과 하버트 구조를 가진다.
대용량의 플래시 메모리가 내장되어 있음.
반복적 프로그래밍 가능. 산업현장에서 사용이 증가
ISP 기능
Atmega가 인기

### 마이크로컨트롤러

마이크로+ 컨트롤러
매우 작은 제어기
마이크로프로세서의 연산 처리기능에 제어기능이 추가된 것.

### 마이크로컨트롤러 구조

입력장치 (센서, 스위치)에 붙어서 이 장치로 신호가 들어오고 메모리에 신호가 저장된다.
제어기능에 대한 출력장치는 모터, Display로 나옴.

### 마이크로컨트롤러의 장단점

장점
* 제품의 소형화 및 경량화
* 저렴한 가격
* 신뢰성 향상
* 융통성

단점
* 낮은 처리 능력
* 범용성 부족

### 마이크로프로세서

마이크로프로세서는 메모리에 내장되어 있는 명령을 해석하고 실행하는 기능을 함.

### 마이크로프로세서의 구조 및 구성 요소

* 실행장치(Execution Unit)
  * 연산장치 ALU
    * Register
    * 제어장치(CU)

* 명령어 장치(Instruction Unit)
  * 메모리에서 가져온 명령어를 저장
  * 저장된 명령어를 명령어 해석기에 명령어를 해석하여 제어 장치로 전달됨

* 어드레싱 장치(Addressing Unit)
CPU 또는 MPU가 메모리나 입출력 장치에서 데이터를 읽거나 쓸 때, 메모리나 입출력 장치의 주소를 생성

* 버스 인터페이스 (Bus Interface Unit)
  * 데이터 버스를 통해 외부장치들과 상호 연결: 주소가 지정되고 메모리로부터 데이터를 읽어오거나 기록할 때
  * 마이크로 프로세서 외부장치들과 상호 연결: 어드레스, 데이터, 컨트롤 버스를 통해서 한다.

### 마이크로프로세서의 동작

1. 어드레스 장치에서 명령어나 데이터가 저장되어 있는 메모리 번지를 계산한다. 어드레서 버스로 주소를 전송한다.
2. 버스 인터페이스 장치에서는 지정된 메모리 주소의 내용을 데이터 버스를 통해 읽거나 써넣는다.
3. 만약 읽어들인 데이터가 명령어이면 Prefetch Queue에 저장, 읽어들인 데이터가 Operand이면 명령어 장치는 프리패치 큐에서 명령어를 읽어서 해석(decoding)-> 해석된 명령어 (decoded instruction)를 실행장치로 전송
실행장치의 제어장치는 해석된 명령어에 따라서 ALU 및 레지스터들을 제어

### 마이크로프로세스의 분류

#### 설계 방식(명령어 구성 방식)에 따른 분류

RISC: 단순한 명령어 셋트를 지원하는 프로세서
* 명령어: 단순. 고정길이. 적은 명령어 수 (30~1000)
* Decoding: hardwired
* ~256개의 내부 레지스터
* 전력 소모가 적고 속도가 빠르며 가격이 저렴
* 호환성이 부족하다.
* 모토롤라 68계열, 매킨토시, 서버, 워크스테이션에 사용한다.
* 분리된 명령어 및 데이터 버스 사용(하버드 구조), 멀티태스킹 기능

CISC: 복잡한 명령어를 지원하는 프로세서
* 명령어: 복잡한 가변길이. 많은 명령어 수 (100~250)
* Decoding: micro-programmed
* 전력/속도/가격: 전력 소모가 크고 속도가 느리며 가격이 비싸다.
* 호환성이 좋음. 범용적.
* 사용 예: 386, 486, 펜티엄 등 PC용 CPU에 사용된다.
* 분리된 명령어 및 데이터 버스를 사용(하버드 구조)

#### 데이터버스, ALU 및 레지스터들의 크기에 따른 분류

* 8bit프로세서
1970년대 마이크로프로세서
소량의 마이크로컨트롤러가 존재
8051, AVR, PIC, SAM88

* 16bit 프로세서
1980년대 초의 마이크로프로세서
8bit와 32bit발달로 많이 사용하지 않음
AM188, MSP430

* 32bit 프로세서
1980년대 중반부터 지금까지 활발하게 사용되어 지는 마이크로컨트롤러
PC 또는 대용량의 데이터 처리를 하는 산업용 장치에 사용

#### 용도(기능)에 따른 분류

* MPU(Micro Processor Unit)
연산/제어 장치 및 각종 레지스터들을 1개의 IC 소자에 사용

* MCU
One-Chip 프로세서: CPU, 메모리(ROM, RAM등) 입출력 제어 인터페이스 회로까지 내장한 것
MPU의 기능을 일부 축소하고 제어기능 추가
예: I8051, AVR, PIC,Cortex 등,

* DSP
디지털 신호를 하드웨어적으로 처리할 수 있음
MPU의 기능을 일부 축소하고 고속 연산 기능 추가
특수 목적: 신호처리, 영상처리
예: TMS 시리즈

### 마이크로프로세서 관련 전자 부품

1. 기본 부품

* PCB기판 (빵판)
* 저항 (Resister)
  * 저항은 저항 값이 고정된 것과 가변되는 것, 그리고 여러 개의 저항이 하나의 부품으로 된 Array 저항이 있음.
* 콘덴서(Condeser, Capacitor)
  * 전기를 축적하는 기능
  * 잡음을 제거하거나 발진 회로를 구성할 때 자주 이용
* 다이오드 (Didode)
  * 전류를 한쪽 방향으로만 흘리는 반도체
  * 전류용 다이오드는 전원 장치에서 교류 전압을 직류 전압으로 바꿀 때 사용
  * 에노드(+) 캐소드(-) 2개 단자를 가진다.
  * 에노드 전압이 캐소드 전압보다 높을 때 전류가 흐른다.
* 트랜지스터 (Transistor)
  * 아날로그 회로에서 입력 신호를 증폭하기 위해 사용된다.
  * 디지털회로에서는 스위칭용으로 사용
  * 다이오드가 2개 연결된 것과 같은 구조를 하고 있다. 3개의 단자 E(Emitter), B(Base), C(Collector)를 가진다.
* CPU
  * 마이크로프로세서 또는 마이크로컨트롤러
* Crystal
  * CPU에 공급하는 클럭 발생을 위해 반드시 사용해야 하는 부품
  * CPU 내부의 발진 회로 단자에 콘덴서와 같이 연결하여 사용한다.
* 메모리
  * 프로그램이나 데이터를 저장하기 위해 사용된다.
* 디지털 IC
  * 마이크로컴퓨터 회로에서 디지털 논리 회로를 구성할 때 사용된다.
  * TTL(74 시리즈)이나 CMOS가 주로 사용된다.
* 스위치
  * 스위치의 상태에 따라 입력 값이 다르게 CPU로 입력되도록 회로를 구성하여 사용한다.
* 센서
* 부저(Buzzer)
  * 출력 상태를 삐 소리로 알려준다.
* LED
  * 에노드(+) 캐소드(-) 2개 단자를 가진다.
* 7-Segment
  * 숫자를 표시할 때 사용한다.
* Dot Matrix LED: 2차원적으로 LED를 배열한 것으로 문자, 기호, 여러가지 패턴을 표시한다.